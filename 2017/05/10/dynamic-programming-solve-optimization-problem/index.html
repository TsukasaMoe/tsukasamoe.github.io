
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Tsukasa の 部屋">
    <title>动态规划解决最优化问题 - Tsukasa の 部屋</title>
    <meta name="author" content="Tsukasa">
    
    
        <link rel="icon" href="http://blog.tsukasa.moe/assets/images/favicon.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="这篇文章收集了几个动态规划经典问题，并给出动态规划解法，主要内容包括了：  数字三角形问题 币值最大化问题 找零问题 连续子序列最大和 0/1背包问题">
<meta property="og:type" content="blog">
<meta property="og:title" content="动态规划解决最优化问题">
<meta property="og:url" content="http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/index.html">
<meta property="og:site_name" content="Tsukasa の 部屋">
<meta property="og:description" content="这篇文章收集了几个动态规划经典问题，并给出动态规划解法，主要内容包括了：  数字三角形问题 币值最大化问题 找零问题 连续子序列最大和 0/1背包问题">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/tech/202307241702050.png">
<meta property="og:updated_time" content="2023-07-24T09:07:52.844Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="动态规划解决最优化问题">
<meta name="twitter:description" content="这篇文章收集了几个动态规划经典问题，并给出动态规划解法，主要内容包括了：  数字三角形问题 币值最大化问题 找零问题 连续子序列最大和 0/1背包问题">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/tech/202307241702050.png">
<meta name="twitter:creator" content="@TsukasaMoe">
    
        <meta rel="publisher" content="https://plus.google.com/113775988407213380000"/>
    
    
        
    
    
        <meta property="og:image" content="http://blog.tsukasa.moe/assets/images/avatars.jpg"/>
    
    
        <meta property="og:image" content="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/icons/202307241658236.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/icons/202307241658236.jpg" />
    
    
        <meta property="og:image" content="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/erocutewifes/202307241707068.jpg"/>
        <meta class="swiftype" name="image" data-type="enum" content="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/erocutewifes/202307241707068.jpg" />
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/font-awesome.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox-thumbs.css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <script src="https://cdn.bootcss.com/aplayer/1.6.0/APlayer.min.js"></script>
<script src="https://api.i-meto.com/music/aplayer.min.js"></script>
<!-- Define author's picture -->


<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Tsukasa の 部屋</a>
    </h1>
    
        
            <a  class="header-right-icon st-search-show-outputs"
                href="#search">
        
        
            <i class="fa fa-lg fa-search"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/avatars.jpg"/>
            </a>
            <span class="sidebar-profile-name">Tsukasa</span>
            <span class="sidebar-profile-moto">エロくて可愛い女の子大好きだ！</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-circle-o"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-star-o"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bars"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">Search</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-terminal"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/TsukasaMoe" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="mailto:luowenqingsmail@gmail.com" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">Mail</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="http://portfolio.tsukasa.moe" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-at"></i>
                    <span class="sidebar-button-desc">Portfolio</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/messages"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-comment-o"></i>
                    <span class="sidebar-button-desc">Messages</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/friends"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-mars"></i>
                    <span class="sidebar-button-desc">Friends</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/links"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-link"></i>
                    <span class="sidebar-button-desc">Links</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/donate"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-usd"></i>
                    <span class="sidebar-button-desc">Donate</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
        <div class="post-header-cover
                    text-center
                    post-header-cover--full"
             style="background-image:url('https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/erocutewifes/202307241707068.jpg');"
             data-behavior="3">
            
                
<div class="post-header main-content-wrap text-center">
    
        <h1 class="post-title" itemprop="headline">
            动态规划解决最优化问题
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Wed May 10 2017 01:40:54 GMT+0800">
	
		    May 10, 2017
    	
    </time>
    
        <span> |  </span>
        
    <a class="category-link" href="/categories/数据结构与算法/">数据结构与算法</a>


    
</div>

</div>
            
        </div>

            <div id="main" data-behavior="3"
                 class="hasCover
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <!-- excerpt -->
<h3 id="动态规划思想"><a href="#动态规划思想" class="headerlink" title="动态规划思想"></a>动态规划思想</h3><ul>
<li>先来个定位，动态规划大多数应用于求解最优化问题。</li>
<li>故要求问题具有最优子结构性质，通俗来说就是全局最优解包含局部最优解。</li>
<li>动态规划的核心是确定状态和导出状态转移方程。</li>
<li>状态方程的求解多种多样，递归、递推、记忆搜索条条大路通罗马，虽然效率也有差异。</li>
</ul>
<h3 id="数字三角形问题"><a href="#数字三角形问题" class="headerlink" title="数字三角形问题"></a>数字三角形问题</h3><p><strong>1.题目描述：</strong><br>有一个由非负整数组成的三角形，第<code>n</code>行有<code>n</code>个数，找出一条从三角形的顶到底的路径，使路径经过的数字的和最大。只需计算出和，不需要指明具体路径。如图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/TsukasaMoe/PicturesOfTsukasaMoe/tech/202307241702050.png" alt=""></p>
<p><strong>2.算法思路：</strong></p>
<ul>
<li>确定状态：利用二维数组进行坐标定位,把位置<code>(i, j)</code>看作一个状态，定义状态<code>(i, j)</code>的指标函数<code>dp(i, j)</code>:从格子<code>(i, j)</code>出发时能得到的最大和(包括格子本身<code>(i, j)</code>的值。</li>
<li>建立状态转移方程：看状态是如何转移的。从<code>(i,j)</code>出发有两种决策，往左下走<code>(i+1,j)</code>对应<code>dp(i+1, j)</code>表示“从<code>(i+1, j)</code>出发后能得到的最大和”、往右下走<code>(i+1, j+1)</code>对应<code>dp(i+1, j+1)</code>，这两个决策自由选择，应选择较大的一个。故得出状态转移方程：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp(i,j) = data(i,j) + max&#123;dp(i+1, j), dp(i+1, j+1)&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3.代码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by LuoWenqing on 2017/5/10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DigitalTriangle</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (sc.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span>[][] data = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">            <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++) &#123;</span><br><span class="line">                    data[i][j] = sc.nextInt();</span><br><span class="line">                    dp[i][j] = -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(solve(<span class="number">0</span>, <span class="number">0</span>, dp, data));</span><br><span class="line">            <span class="comment">//System.out.println(solve2(0, 0, data));</span></span><br><span class="line">            <span class="comment">//System.out.println(solve3(dp, data));</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递归</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solve2</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[][] data)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 递归方式，重叠子问题，重复计算，效率低</span></span><br><span class="line">        <span class="keyword">if</span> (i == data.length - <span class="number">1</span>) <span class="keyword">return</span> data[i][j];</span><br><span class="line">        <span class="keyword">return</span> data[i][j] + Math.max(solve2(i+<span class="number">1</span>, j, data), solve2(i+<span class="number">1</span>, j+<span class="number">1</span>, data));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递推</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solve3</span><span class="params">(<span class="keyword">int</span>[][] dp, <span class="keyword">int</span>[][] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>, endPos = dp.length - <span class="number">1</span>; j &lt;= endPos; j++) &#123;</span><br><span class="line">            dp[endPos][j] = data[endPos][j];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = dp.length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= i; j++) &#123;</span><br><span class="line">                dp[i][j] = data[i][j] + Math.max(dp[i+<span class="number">1</span>][j], dp[i+<span class="number">1</span>][j+<span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 记忆搜索</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span>[][] dp, <span class="keyword">int</span>[][] data)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 判断是否被计算过</span></span><br><span class="line">        <span class="keyword">if</span> (dp[i][j] &gt;= <span class="number">0</span>) <span class="keyword">return</span> dp[i][j];</span><br><span class="line">        <span class="comment">// 如果是最后一行，直接返回data[i][j]</span></span><br><span class="line">        <span class="keyword">if</span> (i == dp.length - <span class="number">1</span>) <span class="keyword">return</span> data[i][j];</span><br><span class="line">        <span class="comment">// 否则，递归执行状态方程，d[i][j]设置从(i,j)出发后能得到最大和</span></span><br><span class="line">        dp[i][j] = data[i][j] + Math.max(solve(i+<span class="number">1</span>, j, dp, data), solve(i+<span class="number">1</span>, j+<span class="number">1</span>, dp, data));</span><br><span class="line">        <span class="keyword">return</span> dp[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="币值最大化问题"><a href="#币值最大化问题" class="headerlink" title="币值最大化问题"></a>币值最大化问题</h3><p><strong>1.题目描述：</strong><br>给定一排<code>n</code>个硬币，其面值均为正整数<code>c1，c2，...，cn</code>，这些整数并不一定两两不同。请问如何选择硬币，使得在其原始位置互不相邻的条件下，所选硬币的总金额最大。</p>
<p><strong>2.算法思路：</strong></p>
<ul>
<li>确定状态：<code>dp(i)</code>表示前<code>i</code>个硬币中能选到的最大币值.</li>
<li>状态转移方程：<code>n</code>个硬币中，分两种情况：选最后一枚硬币<code>(coin(n)+dp(n-2))</code>，不选最后一枚硬币<code>dp(n-1)</code>，我们选择两者中取到硬币总值最大的，综上，得到状态方程：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dp(n) = max&#123;coin(n) + dp(n - 2), dp(n - 1)&#125;, n&gt;1</span><br><span class="line">dp(0) = 0, dp(1) = coin(1)</span><br></pre></td></tr></table></figure>
<p>也可以根据递归、递推、记忆搜索策略写出代码。</p>
<p><strong>3.代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">import java.io.BufferedInputStream;</span><br><span class="line">import java.io.FileInputStream;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Created by LuoWenqing on 2017/5/10.</span><br><span class="line"> */</span><br><span class="line">public class CoinRow &#123;</span><br><span class="line"></span><br><span class="line">    // 递归</span><br><span class="line">    public static int maxCoinVal(int[] data, int n) &#123;</span><br><span class="line">        if (n == 0 || n == 1) return data[n];</span><br><span class="line">        return Math.max(data[n] + maxCoinVal(data, n - 2), maxCoinVal(data, n - 1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 递推</span><br><span class="line">    public static int maxCoinVal2(int[] coin) &#123;</span><br><span class="line">        int[] dp = new int[coin.length];</span><br><span class="line">        dp[0] = 0;</span><br><span class="line">        dp[1] = coin[1];</span><br><span class="line">        for (int i = 2; i &lt; coin.length; i++) &#123;</span><br><span class="line">            dp[i] = Math.max(coin[i] + dp[i - 2], dp[i - 1]);</span><br><span class="line">        &#125;</span><br><span class="line">        return dp[coin.length - 1];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws Exception&#123;</span><br><span class="line">        InputStream is = new BufferedInputStream(new FileInputStream(&quot;coinrow.txt&quot;));</span><br><span class="line">        System.setIn(is);</span><br><span class="line"></span><br><span class="line">        Scanner sc = new Scanner(System.in);</span><br><span class="line">        while (sc.hasNext()) &#123;</span><br><span class="line">            int n = sc.nextInt();</span><br><span class="line">            int[] coin = new int[n + 1];</span><br><span class="line">            coin[0] = 0;</span><br><span class="line">            for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">                coin[i] = sc.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            System.out.println(maxCoinVal(coin, n));</span><br><span class="line">            System.out.println(maxCoinVal2(coin));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="找零问题"><a href="#找零问题" class="headerlink" title="找零问题"></a>找零问题</h3><p><strong>1.题目描述：</strong><br>需找零金额为<code>n</code>，现有面值为<code>d1&lt;d2&lt;...&lt;dm</code>的硬币，数目没有限制，最少要用多少张硬币？</p>
<p><strong>2.算法思路：</strong></p>
<ul>
<li>状态：输入有总金额<code>n</code>，面值硬币序列<code>coin[]</code>。设<code>dp(n)</code>为总金额为<code>n</code>时需要数量最少的硬币数目。</li>
<li>方程：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当n &gt; 0 且 n &gt;= coin[j], dp(n) = min&#123;dp(n - coin[j])&#125; + 1</span><br><span class="line"></span><br><span class="line">n = 0, dp(0) = 0</span><br></pre></td></tr></table></figure>
<p><strong>3.代码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by LuoWenqing on 2017/5/10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MinNumCoin</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">minNum</span><span class="params">(<span class="keyword">int</span>[] coin, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = coin[coin.length - <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; coin.length &amp;&amp; i &gt;= coin[j]; j++) &#123;</span><br><span class="line">                temp = Math.min(dp[i - coin[j]], temp);</span><br><span class="line">            &#125;</span><br><span class="line">            dp[i] = temp + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"minnumcoin.txt"</span>));</span><br><span class="line">        System.setIn(is);</span><br><span class="line"></span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (sc.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span> m = sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span>[] coin = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">1</span>];</span><br><span class="line">            coin[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">                coin[i] = sc.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(minNum(coin, n));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="连续子序列最大和"><a href="#连续子序列最大和" class="headerlink" title="连续子序列最大和"></a>连续子序列最大和</h3><p><strong>1.题目描述：</strong><br>给定<code>K</code>个整数的序列<code>{ N1, N2, ..., NK }</code>，其任意连续子序列可表示为<code>{ Ni, Ni+1, ..., Nj }</code>，其中 <code>1 &lt;= i &lt;= j &lt;= K</code>。最大连续子序列是所有连续子序中元素和最大的一个， 例如给定序列{ -2, 11, -4, 13, -5, -2 }，其最大连续子序列为{ 11, -4, 13 }，最大和为20。</p>
<p><strong>2.算法思路：</strong><br>学了动态规划，也要知道这道题非动态规划的思路还是很简单的，暴力求解：从<code>0-(n-1)</code>的某个位置开始的子序列最大和，一直加到最后，<code>sum(current...x) &gt; max</code>比较，总是保存最大的一个。为了降低点复杂度，动态规划<code>O(n)</code>大法吧：</p>
<ul>
<li>状态；设有数字序列<code>numbers[0...n-1]</code>,选择连续子序列最大和，注意从和最大的角度考虑，<code>maxSum(i)</code>表示以<code>numbers[i]</code>结尾的序列的最大和。那么以当前元素<code>numbers[i]</code>结尾可以划分为两种情况：加上前面的<code>maxSum(i-1)</code>, 不加上前面的<code>maxSum(i-1)</code>。为什么呢，可以这么想，如果前面以<code>numbers[i-1]</code>为尾节的子序列即<code>maxSum(i-1)</code>为负则不加，为正当然是要加上啦。</li>
<li>方程：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maxSum(i) = max&#123;numbers[i] + maxSum(i-1), numbers[i]&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3.代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by LuoWenqing on 2017/5/10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SequenceMax</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"maxseq.txt"</span>));</span><br><span class="line">        System.setIn(is);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(sc.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> n = sc.nextInt();</span><br><span class="line">            <span class="keyword">int</span>[] numbers = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">            numbers[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span>[] maxSum = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">            maxSum[<span class="number">0</span>] = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">                numbers[i] = sc.nextInt();</span><br><span class="line">                maxSum[i] = -<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            initDp(numbers, maxSum, n);</span><br><span class="line">            Arrays.sort(maxSum);</span><br><span class="line">            System.out.println(maxSum[n]);</span><br><span class="line"></span><br><span class="line">            System.out.println(maxSeqSum(numbers, maxSum));</span><br><span class="line">            System.out.println(maxSeqSum2(numbers));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 记忆搜索，对于序列numbers, 求出以numbers[tailPos]的连续子序列最大和，用maxSum[tailPos]保存</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">initDp</span><span class="params">(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span>[] maxSum, <span class="keyword">int</span> tailPos)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tailPos == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (maxSum[tailPos] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> maxSum[tailPos];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxSum[tailPos] = Math.max(numbers[tailPos] + initDp(numbers, maxSum, tailPos - <span class="number">1</span>), numbers[tailPos]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递推</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSeqSum</span><span class="params">(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span>[] maxSum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, end = numbers.length - <span class="number">1</span>; i &lt;= end; i++) &#123;</span><br><span class="line">            maxSum[i] = Math.max(numbers[i] + maxSum[i-<span class="number">1</span>], numbers[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(maxSum);</span><br><span class="line">        <span class="keyword">return</span> maxSum[maxSum.length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 优化递推</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxSeqSum2</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> maxSum, maxHere;</span><br><span class="line">        maxSum = maxHere = numbers[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, end = numbers.length - <span class="number">1</span>; i &lt;= end; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (maxHere &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                maxHere = numbers[i];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxHere += numbers[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 如果maxHere大于0，则更新</span></span><br><span class="line">            <span class="keyword">if</span> (maxHere &gt; maxSum) &#123;</span><br><span class="line">                maxSum = maxHere;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxSum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="0-1背包问题"><a href="#0-1背包问题" class="headerlink" title="0/1背包问题"></a>0/1背包问题</h3><p><strong>1.题目描述：</strong><br>有 <code>n</code> 种物品，物品 <code>i</code> 的体积为 <code>v[i]</code>, 价值为 <code>p[i]</code>. 假定所有物品的体积和价格都大于 0, 以及背包的体积为 <code>V</code>.<br>问：选择哪些物品可使在体积不超过 <code>V</code> 的情况下使物品的总价值最大，并求出这个总价值， 且每种物品只能选择 0 个或 1 个</p>
<p><strong>2.算法思路：</strong></p>
<ul>
<li>状态分析：考虑由前<code>i</code>个物品，当前背包的体积为<code>j</code>，<code>dp(i, j)</code>为给定的前<code>i</code>件物品中，体积为<code>j</code>的背包能放进的最大价值。</li>
<li>导出状态转移方程：递推思想，如果体积<code>j &gt; volume[i]</code>,那么<code>dp(i, j)</code>有两种策略：包括第<code>i</code>件物品最大价值为<code>dp(i-1, j-volume[i]) + values[i]</code>，不包括第<code>i</code>件物品最大价值为<code>dp(i-1,j)</code>，取最大者。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dp(i, j) = max&#123;dp(i-1, j), dp(i-1, j-volume[i]) + values[i]&#125;, j &gt; volume[i]</span><br><span class="line">dp(i, j) = dp(i-1, j), j &lt; volume[i]    </span><br><span class="line">初始化条件：j &gt;= 0时，dp(0, j) = 0; i &gt;= 0时，dp(i, 0) = 0;</span><br></pre></td></tr></table></figure>
<p><strong>3.代码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by LuoWenqing on 2017/5/11.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Knapsack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">        InputStream is = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"knapsack.txt"</span>));</span><br><span class="line">        System.setIn(is);</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span> (sc.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">int</span> V = sc.nextInt(); <span class="comment">// 背包的体积</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> n = sc.nextInt();   <span class="comment">// 物品的数量</span></span><br><span class="line">            <span class="keyword">int</span>[] values = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>]; <span class="comment">// 物品的价值</span></span><br><span class="line">            values[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">int</span>[] volume = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>]; <span class="comment">// 物品的体积</span></span><br><span class="line">            volume[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">                values[i] = sc.nextInt();</span><br><span class="line">                volume[i] = sc.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(maxValue(values, volume, V));</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[values.length][V+<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">                Arrays.fill(dp[i], <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(maxValue2(values, volume, dp, values.length - <span class="number">1</span>, V));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 递推</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxValue</span><span class="params">(<span class="keyword">int</span>[] values, <span class="keyword">int</span>[] volume, <span class="keyword">int</span> V)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 二维维护表</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[values.length][V + <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// 初始条件，虽然java默认初值为0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= V; j++) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= V; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j &lt; volume[i]) &#123;</span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j]; <span class="comment">// 不能装入背包</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (dp[i - <span class="number">1</span>][j - volume[i]] + values[i] &gt; dp[i - <span class="number">1</span>][j]) &#123; <span class="comment">// 选择价值较大者</span></span><br><span class="line">                        dp[i][j] = dp[i - <span class="number">1</span>][j - volume[i]] + values[i]; <span class="comment">// 包括第i件物品</span></span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        dp[i][j] = dp[i - <span class="number">1</span>][j]; <span class="comment">// 不包括第i件物品</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[values.length - <span class="number">1</span>][V];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 记忆搜索</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxValue2</span><span class="params">(<span class="keyword">int</span>[] values, <span class="keyword">int</span>[] volume, <span class="keyword">int</span>[][] dp, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (dp[i][j] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> dp[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j &lt; volume[i]) &#123;</span><br><span class="line">            <span class="keyword">return</span> dp[i][j] = maxValue2(values, volume, dp, i-<span class="number">1</span>, j);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[i][j] = Math.max(maxValue2(values, volume, dp, i - <span class="number">1</span>, j - volume[i]) + values[i], maxValue2(values, volume, dp, i-<span class="number">1</span>, j));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>声明：本站所有文章均为原创或翻译，遵循<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.en" target="_blank" rel="external">署名 - 非商业性使用 - 禁止演绎 4.0 国际许可协议</a>，如需转载请确保您对该协议有足够了解，并附上作者名 (Tsukasa) 及原文地址</p>
</blockquote>
            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/05/11/life-is-full-of-beauty/"  data-tooltip="生活充满美好">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/04/28/regex-expression/" data-tooltip="正则表达式总结">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on QQ" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/&amp;title=动态规划解决最优化问题">
                <i class="fa fa-qq"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on Weibo" target="new" href="http://service.weibo.com/share/share.php?url=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/&amp;title=动态规划解决最优化问题">
                <i class="fa fa-weibo"></i>
            </a>
        </li>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on Facebook" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on Twitter" target="new" href="https://twitter.com/intent/tweet?text=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#lv-container">
            
                <i class="fa fa-comment-o"></i>
            </a>
        </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        <div class ="post-donate">
            <div id="donate_board" class="donate_bar center">
                <a id="btn_donate" class="btn_donate" href="javascript:;" title="打赏">给作者投食戳这里OwO</a>
                <br>
            </div>
            <div id="donate_guide" class="donate_bar center hidden" >
                <img src="/assets/images/qr-alipay.jpg" alt="支付宝打赏">
                <img src="/assets/images/qr-wechatpay.png" alt="微信打赏">
            </div>
            <script type="text/javascript">
                document.getElementById('btn_donate').onclick = function(){
                    $('#donate_board').addClass('hidden');
                    $('#donate_guide').removeClass('hidden');
                }
            </script>
        </div>
        
            
                <!-- 来必力City版安装代码 -->
<div id="lv-container" data-id="city" data-uid="MTAyMC8zMTg0My84NDA3">
</div>
<!-- City版安装代码已完成 -->
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
	<div id="footer-img"></div>
    <span class="copyrights">
    	<p>Powder by <a href="https://hexo.io/zh-cn/">Hexo</a>. Theme - <a href="https://github.com/kaedea/hexo-theme-themia">Themia</a> Modified by <a href="http://tsukasa.moe">Tsukasa</a>.<br>
			License - <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.en">Attribution-NonCommercial-NoDerivatives 4.0 International</a>.<br>
			<span id="busuanzi_container_site_uv">
  				Total <span id="busuanzi_value_site_uv"></span> visitors.
			</span>
			<span id="busuanzi_container_site_pv">
			    Total visit <span id="busuanzi_value_site_pv"></span> times.
			</span>
			<span id="run_time"></span>
		</p>
        Copyrights &copy; 2023 Tsukasa. All Rights Reserved.(≧∀≦)
    </span>
</footer>

<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<script>
    function secondToDate(second) {
        if (!second) {
            return 0;
        }
        var time = new Array(0, 0, 0, 0, 0);
        // if (second >= 365 * 24 * 3600) {
        //     time[0] = parseInt(second / (365 * 24 * 3600));
        //     second %= 365 * 24 * 3600;
        // }
        if (second >= 24 * 3600) {
            time[1] = parseInt(second / (24 * 3600));
            second %= 24 * 3600;
        }
        if (second >= 3600) {
            time[2] = parseInt(second / 3600);
            second %= 3600;
        }
        if (second >= 60) {
            time[3] = parseInt(second / 60);
            second %= 60;
        }
        if (second > 0) {
            time[4] = second;
        }
        return time;
    }
</script>
<script type="text/javascript" language="javascript">
    function setTime() {
        var create_time = Math.round(new Date(Date.UTC(2017, 2, 6, 2, 23, 0))
                .getTime() / 1000);
        var timestamp = Math.round((new Date().getTime() + 8 * 60 * 60 * 1000) / 1000);
        currentTime = secondToDate((timestamp - create_time));
        currentTimeHtml = "Blog ages: "+ currentTime[1] + ' days '
                + currentTime[2] + ' h ' 
                + currentTime[3] + ' m ' 
                + currentTime[4] + ' s.';
        document.getElementById("run_time").innerHTML = currentTimeHtml;
    }
    setInterval(setTime, 1000);
</script>
            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/05/11/life-is-full-of-beauty/"  data-tooltip="生活充满美好">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/04/28/regex-expression/" data-tooltip="正则表达式总结">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on QQ" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/&amp;title=动态规划解决最优化问题">
                <i class="fa fa-qq"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on Weibo" target="new" href="http://service.weibo.com/share/share.php?url=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/&amp;title=动态规划解决最优化问题">
                <i class="fa fa-weibo"></i>
            </a>
        </li>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on Facebook" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default tooltip--top" data-tooltip="Share on Twitter" target="new" href="https://twitter.com/intent/tweet?text=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#lv-container">
            
                <i class="fa fa-comment-o"></i>
            </a>
        </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?url=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/&amp;title=动态规划解决最优化问题">
                <i class="fa fa-weibo"></i><span>Share on Weibo</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.tsukasa.moe/2017/05/10/dynamic-programming-solve-optimization-problem/&amp;title=动态规划解决最优化问题">
                <i class="fa fa-qq"></i><span>Share on QQ</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatars.jpg"/>
        
            <h4 id="about-card-name">Tsukasa</h4>
        
            <h5 id="about-card-bio"><p><a href="http://tsukasa.moe">「My Homepage」</a><br><a href="http://me.tsukasa.moe">「About Me」</a><br><a href="http://blog.tsukasa.moe/links">「My Links」</a></p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Web Developer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Shenzhen
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover-neko.jpg');"></div>
    <script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
    <!--SCRIPTS-->
<script src="/assets/js/jquery.js"></script>
<script src="/assets/js/jquery.fancybox.js"></script>
<script src="/assets/js/jquery.fancybox-thumbs.js"></script>
<script src="/assets/js/tranquilpeak.js"></script>
<!--SCRIPTS END-->
<!--PANGU AUTO SPACE-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/3.2.1/pangu.min.js"></script>
<script> pangu.spacingPage(); </script>
<!--PANGU AUTO SPACE END-->


   
    <script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
    })(document, 'script');
    </script>

    


    <script type="text/javascript">
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
                (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
            e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','DibYiq_42u2sq4ziXd_y','2.0.0');
    </script>


</html>
